
## 리테일의 미래

- 코로나 및 경기 악화 이후 리테일 매출 감소 추세
	- 온라인과 오프라인 상관 없이 감소 추세
- 리테일 산업을 주도한 기술 트랜드
	- 현금, 후불카드, 쇼핑카드, 바코드, 이커머스, 소셜미디어, 스마트폰 순
	- 미래? 생성형AI, 컴포저블 커머스, 컴퓨터비전 및 센서, 몰입형 커머스
		- 한가지씩 알아보자

#### 생성형AI
1. 주로 보조 수단으로 많이 사용중
2. 콘텐츠 생성(텍스트, 이미지, 코드)
3. 자연어 기반 상호작용(챗봇, 요약 등등)

- 사례
	- Amazon 리뷰 요약 서비스
		- 구매자들의 빠른 의사결정 도움
		- 쿼리 절약

#### 컴포저블 커머스
- MSA-like
- 모듈식 구조, API 중심 (EKS, Container, Amplify)

#### 컴퓨터 비전과 센서
- AmazonGo는 실패한 사업이나 기술적으로는 매우 훌롱한 시도
	- 센서를 통한 유동인구 파악
	- 매장 분석
	- 재고 추적
	- 장비 모니터링
	- 생체 인식
	- 관련 AWS: Amazon One, Panorama, IoT

#### 몰입형 커머스
- VR, AR and XR
- Amazon anywhere: 포켓몬고를 개발한 회사에서 Peridot에서 어디서든 Amazon 구매가능한 Anywhere가 결합되어 있음
- 가상 스토어, 3D 상품 이미지, 가상시착, 가상배치 
- 3D 기반 몰입형 커머스는 굉장히 중요함

---

## 올리브영

- 최근 대부분의 이커머스는 요즘 새로운 아이템의 판매보단 기술적으로 새로운 경험을 주는 것을 목표로 함
- 키워드
	- DDD
	- 이벤트 기반 아키텍처
	- 목적별 데이터베이스

#### 키워드 상세 내용
- 이커머스의 DDD
	- 주문, 재고, 검색, 회원, 결제, 정산, 배송, 집계 등등의 MSA 모듈
- 위의 각 모듈은 직접적인 연관성이 없어야 하며, 이벤트 브로커를 통해 연관성 제거 (이벤트 기반 아키텍쳐)
	- 비동기성의 중요성. 동기성은 한 모듈의 실패가 다른 모듈의 실패로 병목 현상을 발생시킬 수 있음
- 데이터 계층의 분리 필요성
	- 병목현상 가능성. DB에 대한 핫블록, 소단위 배치, 복잡한 조인, 외래키 활용 등으로 인한 현상
	- ElastiCache, DocumentDB, Dynamo 등등

#### 올영세일
- 일주일간 진행되는 이벤트에 평소보다 트래픽 3~4배 증가로 인한 최악의 고객 경험 제공
- 기존의 온프레미스 인프라의 한계 존재
	- 온프레미스 리소스 한계
	- 데이터베이스 라이센스 문제 등
- 개선 방향
	- 서비스 단위 리팩토링
	- 클라우드 기반 민첩성 확보
	- 모니터링 개선
- 현재
	- 목적별 데이터베이스 정리중...
	- AWS 다이렉트커넥트 통해 은프레미스 API에서 AWS gateway 연동
	- 오픈소스 기반 설계 및 검증 (래빗엠큐, 카프카, 몽고, 레디스 등)
		- 이후 AWS managed 서비스로 변경
- 리펙토링 사례
	- 쿠폰 서비스 (쿠폰 발급)
		- 기존: FE > BE > DB
		- 사진 참고
	- 전시 서비스 (인기 상품 조회)
		- 메모리 캐시 및 디비 병목현상
		- 다큐먼트디비 및 서킷브레이커
		- 목젹별 디비 (사진 참고)
- 투두리스트
	- 온프레미스 인프라의 클라우드 완전 이관
	- 이벤트 기반 아키텍처 리펙토링
	- 목적별 디비 및 앱 확장

---

## GS Shop

- 모놀리식에서 MSA로 변환은 마치 stangler fig와 같다.
	- 즉 점진적으로 모듈화한다.
- ACL
	- 기존 모놀리식 모듈의 기능을 대신 받아 새로운 MSA상 모듈로 전달(사진참고)

#### 기술부채
- 레거시
	- 영업 매출이 끊임없이 발생하는 구조가 존재하는 환경

#### 현대화
- 인프라 현대화 > 어플리케이션 현대화 > 디비 현대화
- 특정 모듈만 분리
- ESB, Kong API gateway 활용
- 모놀리식에서 이벤트 드리븐으로 모듈 분리
- 모니터링 및 알람 방식 개선
	- 아마존 오픈서치로 웹 콘솔 로그 확인
	- MS 팀즈

```
클라우드에서는 손쉽게 기술 적용이 가능하다.
보여줄 수 있는 가치에 집중하는 것이 새로운 기회를 만든다.
```

---

## 컬리페이

#### 페이먼트 앱의 현대화
- 느슨한 연결(MSA, 비동기, 이벤트 기반)
- 헤드리스 커머스(프론트, 백 분리)
- 클라우드 기반(컨테이너 및 서버리스)
- 민첩성(애자일 설계)
- 목적별 디비 구축(목적 특성화 및 의존성 해소)

#### 컬리페이
- 두 도메인간의 데이터 정합성 일치
	- 컬리카드 도메인 to(from) 포인트 도메인
	- MSK로 의존성 제거

---

## 위버스

- 스파이크성 트래픽에 대한 처리
	- 가수콘서트 티케팅 순간적으러 7~8만 트래픽 발생
	- 람다 프로비저닝을 통해 람다 증설 (사진참조)

---

## 느낀 점

일반 기업이 IT 현대화를 하고자 하는 동기는 위기에서 오는 경우가 많은 듯 함.. 사업이 잘 되고 있는데 굳이 기존에 잘 작동하는 레거시를 변경할 이유가 없고, 리스크를 감수할 이유가 없기도 하니... 그런데 모든 기업이 이 위기를 잘 극복하는 건 아닌듯 함.. 위 사례의 기업은 정말 잘 대처한 케이스라고 생각하고, 경영진 분들이 대단하다고 생각. 문제가 보여도 억지로라도 레거시를 끌고 가는 케이스도 정말 많으니.. (오히려 이 경우를 더 많이 본듯) 기술부채는 이렇게 누적이 되고 엔지니어경험은 안좋아지고, 좋은 인력은 탈출 그리고 사업은 진전이 안되는 상황. 위기를 위기라고 인지하는 것도 능력인 듯... 그리고 좋은 개발자는 좋은 아키텍처를 그려낼 수 있어야 하고, 그것을 할 수 있는 방법론을 꾸준히 연구해야 한다고 생각.